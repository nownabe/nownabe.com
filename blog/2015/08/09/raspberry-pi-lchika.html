<!DOCTYPE html><html><head><meta charset="utf-8" /><title>nownab.log - 今更Raspberry PiでLチカやってみた</title><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.light_blue-pink.min.css" rel="stylesheet" /><script src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" /><link href="../../../../stylesheets/blog.css" rel="stylesheet" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" /></head><body><div class="mdl-layout mdl-js-layout" id="container"><header><h1 id="title"><a href="/blog">nownab.log</a><small><i class="material-icons md-18">description</i><span id="subtitle">logger.level = Logger::DEBUG</span></small></h1></header><div id="main" role="main"><p>[f:id:nownabe:20150808235527j:plain]</p>

<p>流行りにのってRaspberry PiでLチカやってみました！（だいぶ乗り遅れてる）</p>

<p>Raspberry Piは<a href="http://svfes2015.ds.jp-east.idcfcloud.com/index.html">サバフェス</a>の賞品でもらったまま眠ってたのがあったので引っ張り出してきました。
LEDとかは家にあったものを拾い集めました。</p>

<h1 id="raspberry-pi">Raspberry Pi準備</h1>
<p>OSのインストールや初期設定はQiitaにまとめました。</p>

<p>[http://qiita.com/nownabe/items/e16b962fcdb1a702093e:embed:cite]</p>

<p>[http://qiita.com/nownabe/items/a6ec3dfcfcb6ab37ea1e:embed:cite]</p>

<p>これ以外でやったのはパッケージのアップデートと、</p>

<p><code>bash
sudo apt-get update -y
sudo apt-get upgrade -y
</code></p>

<p>NTP設定です。
NTPは<code>/etc/ntp.conf</code>の<code>server</code>の行をコメントアウトして<code>pool ntp.nict.jp iburst</code>を追加します。</p>

<p><code>
#server 0.debian.pool.ntp.org iburst
#server 1.debian.pool.ntp.org iburst
#server 2.debian.pool.ntp.org iburst
#server 3.debian.pool.ntp.org iburst
pool ntp.nict.jp iburst
</code></p>

<h1 id="l">Lピカ</h1>
<p>GPIOの4番ピンを使います。</p>

<p>まずはGPIOの4番ピンを使うことを宣言します
これで<code>/sys/class/gpio/gpio4</code>というリンクが作成されます。</p>

<p><code>bash
pi@raspberrypi ~ $ sudo echo 4 &gt; /sys/class/gpio/export
pi@raspberrypi ~ $ ls /sys/class/gpio
export  gpio4  gpiochip0  unexport
</code></p>

<p>GPIO4を出力用に設定します。</p>

<p><code>bash
pi@raspberrypi ~ $ sudo echo out &gt; /sys/class/gpio/gpio4/direction
pi@raspberrypi ~ $ sudo cat /sys/class/gpio/gpio4/direction
out
</code></p>

<p><code>/sys/class/gpio/gpio4/value</code>に1/0を出力することで、ON/OFFします。</p>

<p><code>bash
pi@raspberrypi ~ $ sudo echo 1 &gt; /sys/class/gpio/gpio4/value
pi@raspberrypi ~ $ sudo echo 0 &gt; /sys/class/gpio/gpio4/value
pi@raspberrypi ~ $ sudo echo 1 &gt; /sys/class/gpio/gpio4/value
pi@raspberrypi ~ $ sudo echo 0 &gt; /sys/class/gpio/gpio4/value
</code></p>

<p>LEDが光ったり消えたりします。</p>

<p>[f:id:nownabe:20150808235527j:plain]</p>

<h1 id="l-1">Lチカ</h1>
<p>点滅させてみます。とりあえずbashで。。。</p>

<p><code>bash
while :; do sudo echo 1 &gt; /sys/class/gpio/gpio4/value; sleep 0.001; sudo echo 0 &gt; /sys/class/gpio/gpio4/value; sleep 0.001; done
</code></p>

<p>[https://youtu.be/jThq1LOG9IQ:embed:cite]</p>

<h1 id="section">電圧？</h1>
<p>電圧を測ってみると5Vピンも3Vピンも3.3Vでした。
う〜んなんでだろう。</p>

<p>[f:id:nownabe:20150808235625j:plain]</p>

<p>GNDと畳の電位差はほとんどなかったのでGNDはちゃんととれてるみたいですw
[f:id:nownabe:20150808235731j:plain]</p>

<h1 id="section-1">おわりに</h1>
<p>高専時代にやったZ80ぶりのLチカでした。</p>

<p>最初トランジスタも発見したのでトランジスタでスイッチングしようと思ったんですがうまく行かず。。。
すっかりもう色々忘れてて歳を感じてやばいのでそのうちやりますw</p>
</div><aside><h2>Recent Articles</h2><ol><li><a href="/blog/2015/09/22/test.html">Example Article</a><span>Sep 22</span></li><li><a href="/blog/2015/08/31/redundant-geminabox.html">Gem in a Boxの冗長化</a><span>Aug 31</span></li><li><a href="/blog/2015/08/10/idcf-dns.html">お名前.comからIDCF DNSに移行した話</a><span>Aug 10</span></li><li><a href="/blog/2015/08/09/raspberry-pi-lchika.html">今更Raspberry PiでLチカやってみた</a><span>Aug  9</span></li><li><a href="/blog/2015/05/24/intro-headphone-amp.html">機材紹介：ヘッドホンアンプ</a><span>May 24</span></li><li><a href="/blog/2015/05/21/backup-to-idcf.html">超簡単にサーバのデータをIDCFオブストに定期バックアップするItamaeプラグイン</a><span>May 21</span></li><li><a href="/blog/2015/05/20/release-to-geminabox.html">Gem in a Boxに簡単にリリースできるGem作ったけどいっぱいあったのでまとめ</a><span>May 20</span></li><li><a href="/blog/2015/05/17/intro-wind-chime.html">機材紹介：ウィンドチャイム</a><span>May 17</span></li><li><a href="/blog/2015/04/19/github-pages.html">Github Pagesが便利すぎてイイ</a><span>Apr 19</span></li><li><a href="/blog/2015/03/14/serverfesta.html">サバフェス始まりました</a><span>Mar 14</span></li></ol><h2>Tags</h2><ol><li><a href="/blog/tags/band.html">band (2)</a></li><li><a href="/blog/tags/instruments.html">instruments (3)</a></li><li><a href="/blog/tags/drums.html">drums (2)</a></li><li><a href="/blog/tags/tech.html">tech (8)</a></li><li><a href="/blog/tags/ruby.html">ruby (4)</a></li><li><a href="/blog/tags/geminabox.html">geminabox (2)</a></li><li><a href="/blog/tags/itamae.html">itamae (1)</a></li><li><a href="/blog/tags/idcf.html">idcf (2)</a></li><li><a href="/blog/tags/diary.html">diary (4)</a></li><li><a href="/blog/tags/leveldb.html">leveldb (1)</a></li><li><a href="/blog/tags/ruboty.html">ruboty (1)</a></li><li><a href="/blog/tags/dns.html">dns (1)</a></li><li><a href="/blog/tags/raspberrypi.html">raspberrypi (1)</a></li><li><a href="/blog/tags/example.html">example (1)</a></li></ol><h2>By Year</h2><ol><li><a href="/blog/2015.html">2015 (15)</a></li></ol></aside></div></body></html>